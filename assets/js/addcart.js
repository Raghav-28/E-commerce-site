const product = [
    {
        id: 'onemukhi',
        image: 'assets/img/portfolio/Rudrakashbeads/onemukhi.webp',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 'twomukhi',
        image: 'assets/img/portfolio/Rudrakashbeads/twomukhinew.webp',
        title: 'Raghav Bhaiya',
        price: 130,
        category: 'beads',
    },
    {
        id: 'threemukhi',
        image: 'assets/img/portfolio/Rudrakashbeads/threemukhi.webp',
        title: 'Raghav Bhaiya',
        price: 180,
        category: 'beads',
    },
    {
        id: 3,
        image: 'assets/img/portfolio/Rudrakashbeads/fourmukhi.webp',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 4,
        image: 'assets/img/portfolio/Sphatikmala/sphatikmala3.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'sphatikmala',
    },
    {
        id: 5,
        image: 'assets/img/portfolio/Sphatikmala/plaincut.jpg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'sphatikmala',
    },
    {
        id: 6,
        image: 'assets/img/portfolio/Rudrakashmala/rudrakshmala6.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'rudrakshmala',
    },
    {
        id: 7,
        image: 'assets/img/portfolio/Rudrakashmala/rudrakshmala10.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'rudrakshmala',
    },
    {
        id: 8,
        image: 'assets/img/portfolio/Rudrakashmala/rudrakshmala8.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'rudrakshmala',
    },
    {
        id: 9,
        image: 'assets/img/portfolio/others/blackmixstonebracelet.jpeg',
        title: 'Raghav Bhaiya',
        price: 130,
        category: 'others',
    },
    {
        id: 10,
        image: 'assets/img/portfolio/others/bluestonebracelet.jpeg',
        title: 'Raghav Bhaiya',
        price: 180,
        category: 'others',
    },
    {
        id: 11,
        image: 'assets/img/portfolio/others/bluestonemala.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 12,
        image: 'assets/img/portfolio/others/parasshivling2.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 13,
        image: 'assets/img/portfolio/others/moongamala.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 14,
        image: 'assets/img/portfolio/Rudrakashbeads/fivemukhinew.webp',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 15,
        image: 'assets/img/portfolio/Rudrakashbeads/sixmukhi.jfif',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 16,
        image: 'assets/img/portfolio/Rudrakashbeads/sevenmukhi.jpg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 17,
        image: 'assets/img/portfolio/Rudrakashbeads/eightmukhi.jfif',
        title: 'Raghav Bhaiya',
        price: 130,
        category: 'beads',
    },
    {
        id: 18,
        image: 'assets/img/portfolio/Rudrakashbeads/ninemukhhi.jpg',
        title: 'Raghav Bhaiya',
        price: 180,
        category: 'beads',
    },
    {
        id: 19,
        image: 'assets/img/portfolio/Rudrakashmala/rudrakshmala3.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'rudrakshmala',
    },
    {
        id: 20,
        image: 'assets/img/portfolio/Rudrakashmala/rudrakshmala4.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'rudrakshmala',
    },
    {
        id: 21,
        image: 'assets/img/portfolio/Sphatikmala/diamondcut.webp',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'sphatikmala',
    },
    {
        id: 22,
        image: 'assets/img/portfolio/Sphatikmala/diamondcut2.webp',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'sphatikmala',
    },
    {
        id: 23,
        image: 'assets/img/portfolio/Rudrakashbeads/tenmukhi.jpg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 24,
        image: 'assets/img/portfolio/Rudrakashbeads/elevenmukhi.jpg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 25,
        image: 'assets/img/portfolio/Rudrakashbeads/twelvemukhi.jpg',
        title: 'Raghav Bhaiya',
        price: 130,
        category: 'beads',
    },
    {
        id: 26,
        image: 'assets/img/portfolio/others/brownstonemala.jpeg',
        title: 'Raghav Bhaiya',
        price: 180,
        category: 'others',
    },
    {
        id: 27,
        image: 'assets/img/portfolio/others/lightbrownbracelet.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 28,
        image: 'assets/img/portfolio/others/whitemotimala.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 29,
        image: 'assets/img/portfolio/others/transparentbraelet.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 30,
        image: 'assets/img/portfolio/others/rainbowbracelet.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 31,
        image: 'assets/img/portfolio/others/whitemixbracelet.jpeg',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'others',
    },
    {
        id: 32,
        image: 'assets/img/portfolio/Rudrakashbeads/thirteenmukhi.jfif',
        title: 'Raghav Bhaiya',
        price: 120,
        category: 'beads',
    },
    {
        id: 33,
        image: 'assets/img/portfolio/Rudrakashbeads/fourteenmukhi.jpg',
        title: 'Raghav Bhaiya',
        price: 130,
        category: 'beads',
    },
    {
        id: 34,
        image: 'assets/img/portfolio/Rudrakashbeads/gaurishankar.jpeg',
        title: 'Raghav Bhaiya',
        price: 130,
        category: 'beads',
    },
];



const categories = [...new Set(product.map((item) => { return item }))];
let cart = [];

document.addEventListener('DOMContentLoaded', () => {
    function filterProducts() {
        const titleFilter = document.getElementById('filterTitle').value.toLowerCase();
        const minPriceFilter = parseFloat(document.getElementById('filterMinPrice').value) || 0;
        const maxPriceFilter = parseFloat(document.getElementById('filterMaxPrice').value) || Infinity;

        const filteredProducts = product.filter(item => {
            const matchesCategory = !titleFilter || item.category.toLowerCase() === titleFilter;
            const matchesPrice = item.price >= minPriceFilter && item.price <= maxPriceFilter;
            return matchesCategory && matchesPrice;
        });

        displayProducts(filteredProducts);
    }

    function displayProducts(products) {
        let i = 0;
        document.getElementById('root').innerHTML = products.map((item) => {
            var { image, title, price, id } = item;
            return (
                `<div class='box'>
    <div class='img-box'>
      <img class='images' src='${image}' alt='Image'>
    </div>
    <div class='bottom'>
      <p>${title}</p>
      <h2>$${price}.00</h2>
      <a href="portfolio-details.html#${id}" class="a-btn" data-glightbox="type: external" title="Portfolio Details">
        <button class= "a-btn">Details</button>
      </a>
    </div>
  </div>
`

                // Assuming you have a container element to append this content

            );
        }).join('');
    }

    function addtocart(a) {
        cart.push({ ...product[a] });
        localStorage.setItem('cart', JSON.stringify(cart));
        displaycart();
    }

    function delElement(a) {
        cart.splice(a, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        displaycart();
    }

    // function displaycart() {
    //     cart = JSON.parse(localStorage.getItem('cart')) || [];
    //     let j = 0;
    //     let total = 0;
    //     document.getElementById("count").innerHTML = cart.length;
    //     if (cart.length == 0) {
    //         document.getElementById('cardItem').innerHTML = "Your Cart Is Empty";
    //         document.getElementById("total").innerHTML = "$ " + 0 + ".00";
    //     } else {
    //         document.getElementById('cardItem').innerHTML = cart.map((item) => {
    //             var { image, title, price } = item;
    //             total += price;
    //             document.getElementById("total").innerHTML = "$ " + total + ".00";
    //             return (
    //                 `<div class='cart-item'>
    //                     <div class='row-img'>
    //                         <img class='rowing' src='${image}'></img>
    //                     </div>
    //                     <p style='font-size:12px'>${title}</p>
    //                     <h2 style='font-size:15px'>$ ${price}.00</h2>` +
    //                 `<i class='bi bi-trash' onclick='delElement(${j++})'></i></div>`
    //             );
    //         }).join('');
    //     }
    // }

    displayProducts(product);
    // displaycart();

    window.addtocart = addtocart;
    window.delElement = delElement;
    window.filterProducts = filterProducts;
});
